# 04/24 ê¸°ìˆ  ìŠ¤í„°ë””

ì‘ì„± ì¼ì‹œ: 2024ë…„ 4ì›” 23ì¼ ì˜¤í›„ 6:43
ìµœì¢… í¸ì§‘ ì¼ì‹œ: 2024ë…„ 4ì›” 24ì¼ ì˜¤í›„ 8:20
ì‘ì„±ì: ì¬ìš± ê¹€
ì°¸ì„ì: ì¬ìš± ê¹€, myung hun kang, ê¹€ì§„ì˜
ìƒíƒœ: Backlog

## ì´ë²ˆì‹œê°„

### ë¦¬ì•¡íŠ¸ ì»¨í¼ëŸ°ìŠ¤ ë¶€ë¶„ ê°ì 2ê°œì •ë„? ë³´ê³  ì™€ì„œ í† ë¡ í•´ë³´ê¸°.

- [https://ko.react.dev/reference/react](https://ko.react.dev/reference/react)

- ì¬ìš±
    - useMemo
        
        : ì¬ë Œë”ë§ ì‚¬ì´ì— ê³„ì‚° ê²°ê³¼ë¥¼ ìºì‹±í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” Rect Hook
        
        - **`useCallback(fn, dependencies)`**
            
            ```jsx
            const cachedValue = useMemo(calculateValue, dependencies)
            ```
            
            ```jsx
            import { useMemo } from 'react';
            
            function TodoList({ todos, tab }) {
              const visibleTodos = useMemo(
                () => filterTodos(todos, tab),
                [todos, tab]
              );
              // ...
            }
            ```
            
        - ì´ˆê¸° ë Œë”ë§ì—ì„œ `useMemo`ëŠ” ì¸ì ì—†ì´ `calculateValue`ë¥¼ í˜¸ì¶œí•œ ê²°ê³¼ë¥¼ ë°˜í™˜.
        - ë‹¤ìŒ ë Œë”ë§ì—ì„œ, ë§ˆì§€ë§‰ ë Œë”ë§ì—ì„œ ì €ì¥ëœ ê°’ì„ ë°˜í™˜í•˜ê±°ë‚˜(ì¢…ì†ì„±ì´ ë³€ê²½ë˜ì§€ ì•Šì€ ê²½ìš°), `calculateValue`ë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ê³  ë°˜í™˜ëœ ê°’ì„ ì €ì¥.
            - ê¸°ë³¸ì ìœ¼ë¡œ ReactëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•  ë•Œë§ˆë‹¤ ì»´í¬ë„ŒíŠ¸ì˜ ì „ì²´ ë³¸ë¬¸ì„ ë‹¤ì‹œ ì‹¤í–‰.
            - í° ë°°ì—´ì„ í•„í„°ë§ í˜¹ì€ ë³€í™˜í•˜ê±°ë‚˜ ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ê³„ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°, ë°ì´í„°ê°€ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ê³„ì‚°ì„ ìƒëµí•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©.
        - Strict Modeì—ì„œëŠ” **ë‘ ë²ˆ í˜¸ì¶œ. (ê°œë°œ í™˜ê²½ì—ì„œë§Œ ë™ì‘)**
        - **ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ì„œë§Œ`useMemo`ë¥¼ ì‚¬ìš©.**
        - í•¨ìˆ˜ë¥¼ ë©”ëª¨í™”.
            
            ```jsx
            export default function ProductPage({ productId, referrer }) {
              function handleSubmit(orderDetails) {
                post('/product/' + productId + '/buy', {
                  referrer,
                  orderDetails
                });
              }
            
              return <Form onSubmit={handleSubmit} />;
            }
            ```
            
            - ìœ„ì™€ ê°™ì´ í•¨ìˆ˜ë¥¼ ë©”ëª¨í•˜ê³ ì í•œë‹¤ë©´
            
            ```jsx
            export default function Page({ productId, referrer }) {
              const handleSubmit = useMemo(() => {
                return (orderDetails) => {
                  post('/product/' + productId + '/buy', {
                    referrer,
                    orderDetails
                  });
                };
              }, [productId, referrer]);
            
              return <Form onSubmit={handleSubmit} />;
            }
            ```
            
            - **`useMemo` ëŒ€ì‹  `[useCallback](https://ko.react.dev/reference/react/useCallback)`ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ê°ì‹¸ì„œ ì‚¬ìš©.**
        - **ë°˜ë³µë¬¸ì—ì„œ ê° ëª©ë¡ í•­ëª©ì— ëŒ€í•´Â `useMemo`ë¥¼ í˜¸ì¶œí•´ì•¼Â í•  ë•Œ.**
            
            ```jsx
            function ReportList({ items }) {
              return (
                <article>
                  {items.map(item => {
                    // ğŸ”´ ë°˜ë³µë¬¸ì—ì„œëŠ” useMemoë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                    const data = useMemo(() => calculateReport(item), [item]);
                    return (
                      <figure key={item.id}>
                        <Chart data={data} />
                      </figure>
                    );
                  })}
                </article>
              );
            }
            ```
            
            - ë°˜ë³µë¬¸ì—ì„  `useMemo`ë¥¼ í˜¸ì¶œ ë¶ˆê°€.
            
            ```jsx
            function ReportList({ items }) {
              return (
                <article>
                  {items.map(item =>
                    <Report key={item.id} item={item} />
                  )}
                </article>
              );
            }
            
            function Report({ item }) {
              // âœ… ìµœìƒìœ„ ìˆ˜ì¤€ì—ì„œ useMemoë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
              const data = useMemo(() => calculateReport(item), [item]);
              return (
                <figure>
                  <Chart data={data} />
                </figure>
              );
            }
            ```
            
            - ëŒ€ì‹  ê° í•­ëª©ì— ëŒ€í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ì¶œí•˜ê³  ê°œë³„ í•­ëª©ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ë©”ëª¨.
            
            ```jsx
            function ReportList({ items }) {
              // ...
            }
            
            const Report = memo(function Report({ item }) {
              const data = calculateReport(item);
              return (
                <figure>
                  <Chart data={data} />
                </figure>
              );
            });
            ```
            
            - `useMemo`ë¥¼ ì œê±°í•˜ê³  `Report` ìì²´ë¥¼ `[memo](https://ko.react.dev/reference/react/memo)`ë¡œ ê°ì‹¸ëŠ” ê²ƒë„ ê°€ëŠ¥.
            - `item` propê°€ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ `Report`ëŠ” ì¬ë Œë”ë§ì„ ê±´ë„ˆë›°ë¯€ë¡œ `Chart` ì—­ì‹œ ì¬ë Œë”ë§ ìƒëµ.
    - useCallback
        
        : ë¦¬ë Œë”ë§ ê°„ì— í•¨ìˆ˜ ì •ì˜ë¥¼ ìºì‹±í•´ ì£¼ëŠ” React Hook
        
        - **`useCallback(fn, dependencies)`**
        
        ```jsx
        const cachedFn = useCallback(fn, dependencies)
        ```
        
        ```jsx
        import { useCallback } from 'react';
        
        export default function ProductPage({ productId, referrer, theme }) {
          const handleSubmit = useCallback((orderDetails) => {
            post('/product/' + productId + '/buy', {
              referrer,
              orderDetails,
            });
          }, [productId, referrer]);
        ```
        
        - ìµœì´ˆ ë Œë”ë§ì—ì„œëŠ” `useCallback`ì€ ì „ë‹¬í•œ `fn`í•¨ìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜.
        - í›„ì† ë Œë”ë§ì—ì„œëŠ” ì´ì „ ë Œë”ë§ì—ì„œ ì´ë¯¸ ì €ì¥í•´ ë‘ì—ˆë˜ `fn`í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜ (ì˜ì¡´ì„±ì´ ë³€í•˜ì§€ ì•Šì•˜ì„ ë•Œ), í˜„ì¬ ë Œë”ë§ ì¤‘ì— ì „ë‹¬í•œ `fn`í•¨ìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜.
            - **ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§í•  ë•Œ ReactëŠ” ì´ê²ƒì˜ ëª¨ë“  ìì‹ì„ ì¬ê·€ì ìœ¼ë¡œ ì¬ëœë”ë§.**
        - useMemo ì™€ ë§¤ìš° ìœ ì‚¬.
        - **`useCallback` ë˜í•œ** useMemo ì™€ ë§ˆì°¬ê°€ì§€ë¡œ **ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ìš©ë„ë¡œë§Œ ì‚¬ìš©.**
        - **useCallbackê³¼ useMemoì˜ ì°¨ì´ì .**
            - ë‘ hookì€ ëª¨ë‘ ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ìµœì í™”í•  ë•Œ ìœ ìš©.
            - ë¬´ì–¸ê°€ë¥¼ ì „ë‹¬í•  ë•Œ [memoization](https://ko.wikipedia.org/wiki/%EB%A9%94%EB%AA%A8%EC%9D%B4%EC%A0%9C%EC%9D%B4%EC%85%98)(ë‹¤ë¥¸ ë§ë¡œëŠ” ìºì‹±) ê°€ëŠ¥.
            - ì°¨ì´ì ì€ *ë¬´ì—‡ì„* ìºì‹± í•˜ëŠ”ê°€.
            - **`[useMemo](https://ko.react.dev/reference/react/useMemo)`Â ëŠ” í˜¸ì¶œí•œ í•¨ìˆ˜ì˜ ê²°ê³¼ê°’ì„ ìºì‹±.**
            - **`useCallback`ì€Â *í•¨ìˆ˜ ìì²´*ë¥¼ ìºì‹±.**
            - ì…ë ¥ê°’ì´ ë³€í•˜ì§€ ì•Šì•˜ì„ ë•Œ : useMemoì˜ ê²½ìš° ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ë°˜ë©´, useCallbackì˜ ê²½ìš° í•¨ìˆ˜ë¥¼ ì „ë‹¬.
            - ì…ë ¥ê°’ì´ ë³€í–ˆì„ ë•Œ : ë‘˜ë‹¤ í•¨ìˆ˜ í˜¸ì¶œ, ì‹¤í–‰.
        - **Effectê°€ ë„ˆë¬´ ìì£¼ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸°**
            - **í•¨ìˆ˜ë¥¼ Effect ì˜ì¡´ì„±ìœ¼ë¡œ ì„ ì–¸í•´ì•¼ í•˜ëŠ” ê²½ìš°.**
            
            ```jsx
            useEffect(() => {
                const options = createOptions();
                const connection = createConnection();
                connection.connect();
                return () => connection.disconnect();
              }, [createOptions]); // ğŸ”´ ë¬¸ì œì : ì´ ì˜ì¡´ì„±ì€ ë§¤ ë Œë”ë§ë§ˆë‹¤ ë³€ê²½ë©ë‹ˆë‹¤.
              // ...
            ```
            
            - ì´ëŸ°ì‹ìœ¼ë¡œ í•˜ë©´ ë¬¸ì œ.
            - í•´ê²°í•˜ê¸° ìœ„í•´ useCallback ì‚¬ìš©.
            
            ```jsx
            function ChatRoom({ roomId }) {
              const [message, setMessage] = useState('');
            
              const createOptions = useCallback(() => {
                return {
                  serverUrl: 'https://localhost:1234',
                  roomId: roomId
                };
              }, [roomId]); // âœ… roomIdê°€ ë³€ê²½ë  ë•Œë§Œ ë³€ê²½ë©ë‹ˆë‹¤.
            
              useEffect(() => {
                const options = createOptions();
                const connection = createConnection();
                connection.connect();
                return () => connection.disconnect();
              }, [createOptions]); // âœ… createOptionsê°€ ë³€ê²½ë  ë•Œë§Œ ë³€ê²½ë©ë‹ˆë‹¤.
              // ...
            ```
            
            - ì´ë ‡ê²Œ í•˜ë©´ í•´ê²°.
            - í•˜ì§€ë§Œ í•¨ìˆ˜ ì˜ì¡´ì„±ì„ ì œê±°í•˜ëŠ” ê²ƒì´ ë” ìœ ë¦¬.
            
            ```jsx
            function ChatRoom({ roomId }) {
              const [message, setMessage] = useState('');
            
              useEffect(() => {
                function createOptions() { // âœ… useCallbackì´ë‚˜ í•¨ìˆ˜ ì˜ì¡´ì„±ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                  return {
                    serverUrl: 'https://localhost:1234',
                    roomId: roomId
                  };
                }
            
                const options = createOptions();
                const connection = createConnection();
                connection.connect();
                return () => connection.disconnect();
              }, [roomId]); // âœ… roomIdê°€ ë³€ê²½ë  ë•Œë§Œ ë³€ê²½ë©ë‹ˆë‹¤.
              // ...
            ```
            
            - í•¨ìˆ˜ë¥¼ Effect ì•ˆìœ¼ë¡œ ë„£ëŠ” ê²ƒìœ¼ë¡œ í•´ê²° ê°€ëŠ¥.

- ëª…í›ˆ
    - use
        - Promise ë‚˜ context ì™€ ê°™ì€ ë°ì´í„°ë¥¼ ì°¸ì¡°í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í›…
        - if ë¬¸ ê³¼ ê°™ì€ ì¡°ê±´ë¬¸ê³¼ ë°˜ë³µë¬¸ ì•ˆì—ì„œ í˜¸ì¶œ í•  ìˆ˜ ìˆë‹¤.
        
        ```jsx
        const value = use(resource);
        
        // resource : ì°¸ì¡°í•˜ë ¤ëŠ” ë°ì´í„°, Promiseë‚˜ context ì¼ ìˆ˜ ìˆë‹¤.
        // value : Promise ë‚˜ context ì—ì„œ ì°¸ì¡°í•œ ê°’ì„ ë°˜
        ```
        
        Promiseì™€ í•¨ê»˜ í˜¸ì¶œë  ë•Œ use í›…ì€ Suspense ë° error boundaryì™€ í†µí•©ëœë‹¤. 
        
        use ì— ì „ë‹¬ëœ Promiseê°€ ë³´ë¥˜ë˜ëŠ” ë™ì•ˆ useë¥¼ í˜¸ì¶œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ”*ì¼ì‹œ ì¤‘ë‹¨* ë©ë‹ˆë‹¤.
        
        use ë¥¼ í˜¸ì¶œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ Suspense ê²½ê³„ë¡œ ë‘˜ëŸ¬ì‹¸ì—¬ ìˆìœ¼ë©´ fallbackì´ í‘œì‹œë©ë‹ˆë‹¤.
        Promiseê°€ ë¦¬ì¡¸ë¸Œë˜ë©´ Suspense fallbackì€ use Hookì´ ë°˜í™˜í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤.
        
        use ì— ì „ë‹¬ëœ Promiseê°€ ê±°ë¶€ë˜ë©´ ê°€ì¥ ê°€ê¹Œìš´ Error Boundaryì˜ fallbackì´ í‘œì‹œë©ë‹ˆë‹¤.
        
        ### **ì£¼ì˜ ì‚¬í•­**
        
        - `use`Â Hookì€ ì»´í¬ë„ŒíŠ¸ë‚˜ Hook ë‚´ë¶€ì—ì„œ í˜¸ì¶œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
        - [ì„œë²„ ì»´í¬ë„ŒíŠ¸](https://ko.react.dev/reference/react/use-server)ì—ì„œ ë°ì´í„°ë¥¼ fetch í•  ë•ŒëŠ”Â `use`ë³´ë‹¤Â `async`Â ë°Â `await`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
        - `async`Â ë°Â `await`ì€Â `await`ì´ í˜¸ì¶œëœ ì‹œì ë¶€í„° ë Œë”ë§ì„ ì‹œì‘í•˜ëŠ” ë°˜ë©´Â `use`ëŠ” ë°ì´í„°ê°€ ë¦¬ì¡¸ë¸Œëœ í›„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§í•©ë‹ˆë‹¤.
        - [í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸](https://ko.react.dev/reference/react/use-client)ì—ì„œ Promiseë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë³´ë‹¤Â [ì„œë²„ ì»´í¬ë„ŒíŠ¸](https://ko.react.dev/reference/react/use-server)ì—ì„œ Promiseë¥¼ ìƒì„±í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒì„±ëœ PromiseëŠ” ë Œë”ë§í•  ë•Œë§ˆë‹¤ ë‹¤ì‹œ ìƒì„±ë©ë‹ˆë‹¤. ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬ëœ PromiseëŠ” ë¦¬ë Œë”ë§ ì „ë°˜ì— ê±¸ì³ ì•ˆì •ì ì…ë‹ˆë‹¤.Â [ì˜ˆì‹œ í™•ì¸í•˜ê¸°](https://ko.react.dev/reference/react/use#streaming-data-from-server-to-client).
        
        ## context ì°¸ì¡°
        
        - context ë¥¼ use ì— ì „ë‹¬í•˜ë©´ useContext ì™€ ìœ ì‚¬í•˜ê²Œ ì‘ë™.
        - ì´ë•Œ ë°˜í™˜ë˜ëŠ” ê°’ì€ contextì˜ ê°’
            - ì´ ê°’ì„ ê²°ì •í•˜ê¸° ìœ„í•´ reactëŠ” ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ë¥¼ ê²€ìƒ‰í•˜ê³  ìœ„ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ context providerë¥¼ ì°¾ìŒ
        
        - ì¡°ê±´ë¬¸ì—ì„œ ì‚¬ìš©ê°€ëŠ¥
            
            ```jsx
            function HorizontalRule({ show }) {
              if (show) {
                const theme = use(ThemeContext);
                return <hr className={theme} />;
              }
              return false;
            }
            ```
            
        
        ## ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°
        
        ```jsx
        import { fetchMessage } from './lib.js';
        import { Message } from './message.js';
        
        export default function App() {
          const messagePromise = fetchMessage();
          return (
            <Suspense fallback={<p>waiting for message...</p>}>
              <Message messagePromise={messagePromise} />
            </Suspense>
          );
        }
        
        // -------------------------------------------------------------------------//
        
        'use client';
        
        import { use } from 'react';
        
        export function Message({ messagePromise }) {
          const messageContent = use(messagePromise);
          return <p>Here is the message: {messageContent}</p>;
        }
        ```
        
        - propìœ¼ë¡œ ë°›ì€ promiseë¥¼ use í›…ì— ì „ë‹¬
        - client ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒì— ìƒì„±í•œ promiseì—ì„œ ê°’ì„ ì½ì„ ìˆ˜ ìˆìŒ
        
        ## ê±°ë¶€ëœ Promise ì²˜ë¦¬
        
        ### error boundary ì‚¬ìš©
        
        ```jsx
        "use client";
        
        import { use, Suspense } from "react";
        import { ErrorBoundary } from "react-error-boundary";
        
        export function MessageContainer({ messagePromise }) {
          return (
            <ErrorBoundary fallback={<p>âš ï¸Something went wrong</p>}>
              <Suspense fallback={<p>âŒ›Downloading message...</p>}>
                <Message messagePromise={messagePromise} />
              </Suspense>
            </ErrorBoundary>
          );
        }
        
        function Message({ messagePromise }) {
          const content = use(messagePromise);
          return <p>Here is the message: {content}</p>;
        }
        
        ```
        
        ### Promise.catch ì‚¬ìš©
        
        ```jsx
        import { Message } from './message.js';
        
        export default function App() {
          const messagePromise = new Promise((resolve, reject) => {
            reject();
          }).catch(() => {
            return "no new message found.";
          });
        
          return (
            <Suspense fallback={<p>waiting for message...</p>}>
              <Message messagePromise={messagePromise} />
            </Suspense>
          );
        }
        ```
        
    - flushSync
        
        <aside>
        ğŸ’¡ ì£¼ì˜
        `flushSync`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì¼ë°˜ì ì´ì§€ ì•Šìœ¼ë©° ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
        </aside>
        
        `flushSync`ëŠ” Reactì—ê²Œ ì œê³µëœ ì½œë°± ë‚´ë¶€ì˜ ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤. DOMì´ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ë˜ëŠ” ê²ƒì„ ë³´ì¥í•©ë‹ˆë‹¤.
        
        ```jsx
        flushSync(callback)
        ```
        
        ### **ë§¤ê°œë³€ìˆ˜**
        
        - `callback`: í•¨ìˆ˜ì…ë‹ˆë‹¤. ReactëŠ” ì¦‰ì‹œ ì½œë°±ì„ í˜¸ì¶œí•˜ê³  ì½œë°± ë‚´ì˜ ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ë˜í•œ ë³´ë¥˜ ì¤‘ì¸ ì—…ë°ì´íŠ¸ë‚˜ effect ë˜ëŠ” effect ë‚´ë¶€ì˜ ì—…ë°ì´íŠ¸ë„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.Â `flushSync`Â í˜¸ì¶œë¡œ ì¸í•´ ì—…ë°ì´íŠ¸ê°€ ì¤‘ë‹¨ë˜ë©´ fallbackì´ ë‹¤ì‹œ í‘œì‹œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
        ### **ë°˜í™˜ê°’**
        
        `flushSync`ëŠ” `undefined`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
        
        ### **ì£¼ì˜ì‚¬í•­**
        
        - `flushSync`ë¥¼ ì‚¬ìš©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì´ í¬ê²Œ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ê¸‰ì  ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.
        - `flushSync`ëŠ” ë³´ë¥˜ ì¤‘ì¸ Suspense ë°”ìš´ë”ë¦¬ì˜Â `fallback`Â stateë¥¼ í‘œì‹œí•˜ë„ë¡ ê°•ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        - `flushSync`ëŠ” ë³´ë¥˜ ì¤‘ì¸ effectë¥¼ ì‹¤í–‰í•˜ê³  ë°˜í™˜ë˜ê¸° ì „ì— í¬í•¨ëœ ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        - `flushSync`ëŠ” ì½œë°± ë‚´ë¶€ì˜ ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•  ë•Œ í•„ìš”í•œ ê²½ìš° ì½œë°± ì™¸ë¶€ì˜ ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í´ë¦­ìœ¼ë¡œ ì¸í•œ ë³´ë¥˜ ì¤‘ì¸ ì—…ë°ì´íŠ¸ê°€ ìˆëŠ” ê²½ìš° ReactëŠ” ì½œë°± ë‚´ë¶€ì˜ ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ì „ì— í•´ë‹¹ ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
        ## ì¨ë“œíŒŒí‹° í†µí•©ì„ ìœ„í•œ ì—…ë°ì´íŠ¸ flushing
        
        ë¸Œë¼ìš°ì € API ë˜ëŠ” UI ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê°™ì€ ì¨ë“œíŒŒí‹° ì½”ë“œë¥¼ í†µí•©í•  ë•Œ Reactê°€ ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ê°•ì œí•  í•„ìš”ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `flushSync`ë¥¼ ì‚¬ìš©í•´ì„œ Reactê°€ ì½œë°± ë‚´ë¶€ì˜ ëª¨ë“  state updatesë¥¼ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
        ```jsx
        flushSync(() => {
          setSomething(123);
        });
        // By this line, the DOM is updated.
        ```
        
        - ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ Reactê°€ DOMì„ ì´ë¯¸ ì—…ë°ì´íŠ¸í•œ í›„ì— ë‹¤ìŒ ì¤„ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ë³´ì¥í•©ë‹ˆë‹¤.
        
        ì˜ˆì‹œ
        
        ```jsx
        import { useState, useEffect } from 'react';
        import { flushSync } from 'react-dom';
        
        export default function PrintApp() {
          const [isPrinting, setIsPrinting] = useState(false);
        
          useEffect(() => {
            function handleBeforePrint() {
              flushSync(() => {
                setIsPrinting(true);
              })
            }
        
            function handleAfterPrint() {
              setIsPrinting(false);
            }
        
            window.addEventListener('beforeprint', handleBeforePrint);
            window.addEventListener('afterprint', handleAfterPrint);
            return () => {
              window.removeEventListener('beforeprint', handleBeforePrint);
              window.removeEventListener('afterprint', handleAfterPrint);
            }
          }, []);
        
          return (
            <>
              <h1>isPrinting: {isPrinting ? 'yes' : 'no'}</h1>
              <button onClick={() => window.print()}>
                Print
              </button>
            </>
          );
        }
        
        ```
        

- ì§„ì˜
    
    [https://velog.io/@surim014/react-19-will-be-compiled](https://velog.io/@surim014/react-19-will-be-compiled)
    

### ë‹¤ìŒ ìŠ¤í„°ë””ë¶€í„° ì–´ë–¤ê±° í• ì§€ ìƒê°í•´ì˜¤ê¸°

- ë„¥ìŠ¤íŠ¸ Learn.
- ë°˜ì‘í˜• ì›¹.
- ë„ì»¤.
- **í”„ëŸ°íŠ¸ì—”ë“œ ê°œë°œì„ ìœ„í•œ ë³´ì•ˆ ì…ë¬¸ ì±….**

## ë‹¤ìŒ ì‹œê°„ :   5/1 ìˆ˜  ì €ë… 7ì‹œ

- **í”„ëŸ°íŠ¸ì—”ë“œ ê°œë°œì„ ìœ„í•œ ë³´ì•ˆ ì…ë¬¸**
- Chapter 3 : HTTP ê¹Œì§€ ì½ì–´ë³´ê³  ì˜¤ê¸°.
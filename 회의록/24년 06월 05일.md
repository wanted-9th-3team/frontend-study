# 06/05 기술 스터디

작성 일시: 2024년 6월 5일 오후 5:59
최종 편집 일시: 2024년 6월 5일 오후 7:44
작성자: 김진영
참석자: 재욱 김, 명훈, 김진영
상태: Backlog

## 이번시간

- **프런트엔드 개발을 위한 보안 입문**
- ‘Chapter 7. 인증, 인가’ , ‘Chapter 8. 라이브러리를 노린 보안 리스크’  까지 읽어보고 오기.

## 7. 인증 • 인가

- 상대가 누구인지 확인하는 행위를 ‘인증’, 상대에게 권한을 주는 것을 ‘인가’라고 한다.
- 인증에는 세 가지 요소가 있으며 이를 결합하면 보안을 강화할 수 있다.
- 비밀번호 인증을 노린 공격에는 이중 인증 방식이 효과적이다.
- 사용자 경험과 디자인을 개선하면 복잡한 비밀번호의 입력을 보조할 수 있다.

- Authentication과 Authorization의 차이
    
    ### Authentication
    
    authentication이란 통신 상대가 누구(또는 무엇)인지를 확인하는 일
    
    웹 애플리케이션은 사용자를 개인별로 확인하기 위해 사용자 ID와 비밀번호나 지문 등의 정보를 사용해 로그인을 시도하는 사용자가 본인인지 확인한다.
    
    ### Authentication의 3요소
    
    - 지식 정보: 비밀번호 등
    - 소지정보: 스마트폰이나 보안키，IC 카드 등
    - 생체정보: 지문，얼굴，홍채 등
    
    ### Authorization
    
    authorization란 통신 상대에게 특정한 ‘권한’을 부여하는 것
    
    웹 애플리케이션에 로그인할 때 사용자는 인증과 동시에 허가도 받는다. 
    예를 들어 트위터에서 로그인하지 않은 사용자는 트윗을 볼 수만 있으며 로그인（인증）하면 트윗을 작성할 수 있게 된다.
    
- 인증   기능의    보안   리스크
    
    ### 인증  방식의   종류
    
    대표적인 인증 방식은 비밀번호 인증 방식이며 비밀번호   인증  외에도 SMS 인증, 소셜 로그인 등의 방식이 있다.
    
    ### 비밀번호  인증에   대한  공격
    
    - brute force 공격: 이론적으로 가능한 모든 패턴을 대입하는 방법
        - 사전 공격: `password`, `123456`과 같이 단순한 문자열과 인명, 지명 등 비밀번호에 자주 사용되는 문자열의 입력을 반복하는 방법
        - reverse brute force 공격: 공격대상 ID를 변경하면서 같은 비밀번호로 인증을 시도하는 방법
    - 비밀번호 리스트 공격: 다른 서비스에서 유출된 비밀번호를 입력하는 방법
    
    ### 비밀번호  인증  공격에   대한  대책
    
    가장 기본적인 대책은 사용자가 충분히 길고 복잡한 비밀번호를 설정하도록 하는 방법이다.
    이때 다른 서비스와 같은 비밀번호를 사용하지 않도록 해야 한다.
    
    1. 복합  인증
        - 비밀번호 인증 후 SMS로 전송되는 코드를 재차 입력하여 로그인하는 방식
        - 비밀번호 인증 후 추가로 질문과 답을 사용해 인증하는 방식은 지식 정보를 2회 사용하는 인증하는 방식 등
    2. 계정 잠금 기능
        
        로그인을 일정 횟수만큼 실패했을 때 해당 사용자 ID에 잠금을 걸어 브루트 포스 공격을 막을 수 있다.(리버스 브루트 포스는 못막음)
        
- 계정   생성   폼   구현   실습
    
    ### 비밀번호 입력 보조하기
    
    1. 비밀번호 표시/숨김 전환
    2. 비밀번호관리자 지원(<input>의 autocomplete 속성)
    3. 비밀번호 복사 및 붙여넣기 활성화
    4. 모바일 사용자에게 적절한 키보드 표시(<input>의 inputmode 속성)
    
- 로그인 정보 유출에 주의하기
    1. 웹 분석 서비스 이용에 주의하기
        
        웹 분석 서비스를 사용하면 웹 애플리케이션에 접속한 사용자의 행동을 분석할 수 있다. 
        페이지에서 키보드 조작이나 마우스 조작을 추적해 어느 폼이나 버튼이 사용됐는지를 분석해주는 서비스도 있다.
        
        로그인 화면 등에는 웹 분석 서비스에 데이터가 전송되지 않도록 설정해야 한다.
        
    2. 브라우저에 기능 정보를 저장할 때 주의하기
        
        쿠키를 쓸 땐 HTTPS 연결을 사용할 때만 쿠키를 보내는 Secure 속성과 자바스크립트에서 접근할 수 없는 HttpOnly 속성 사용
        
        웹 스토리지에 저장된 데이터는 자바스크립트의 접근을 제한할 수 없으므로 XSS 취약점이 있으면 웹 스토리지에 저장된 데이터가 유출될 수 있다.
        
        웹 스토리지에 보안 정보를 저장할 때는 세션이 끊어질 때 웹 스토리지에 데이터가 계속 남아 있을 수 있음을 유의.
        

### 8. 라이브러리를 노린 보안리스크

- 라이브러리는 개발 효율을 향상시키지만 공급망에 의한 위험도 동반한다.
- 공급망의 리스크를 이해하면서 라이브러리를 활용해야 한다.
- 취약성이 있는 라이브러리를 사용하지 않도록 도구를 사용해 정기적으로 확인한다.
- SRI 등을 사용해 변조된 라이브러리의 사용을 피할 수 있다.

- 라이브러리 사용의 보안 대책
    
    ### 취약성을 확인하는 툴과 서비스 사용
    
    사용하는 라이브러리나 의존 대상 라이브러리의 취약성을 확인하는 툴이나 서비스를 도입하면 취약성 대응이 빨라진다.
    
    1. 라이브러리의 알려진 취약점을 확인하는 커맨드라인 도구 사용
        
        npm audit fix는 프로젝트에 취약성이 있는 모든 npm 패키지를 일괄적으로 업데이트하는 커맨드다.
        
    2. 정기적으로 라이브러리의 취약성을 확인하는 서비스 도입
        
        깃허브에서 제공하는 Dependabot을 사용해볼 수도 있다.
        Dependabot는 레포지토리에서 사용하는 라이브러리에 알려진 취약점을 확인하는 서비스다.
        
    
    ### 유지보수가 꾸준히 이루어지는 라이브러리 사용하기
    
    버그 리포트에 대응해 수정된 버전을 배포하고 있는지, 의존하고 있는 라이브러리의 업데이트가 정기적으로 이뤄지는지 확인하자.
    
    ### 최신 버전의 라이브러리 사용하기
    
    라이브러리 버전은 가능한 최신 버전으로 유지해야 한다. 
    이를 위해 라이브러리를 항상 최신의 상태로 유지해주는 서비스가 Renovate이다.
    
    Renovate는 사용 중인 라이브러리의 새로운 버전 업데이트를 확인해 버전 업을 위한 pull request를 생성한다.
    
    ### 하위 자원 무결성을 통한 변조 확인하기
    
    하위 자원 무결성(SRI, subresource integrity)로 리소스 내용의 해시값을 확인해 변조 여부를 확인할 수 있다. 
    해당 리소스의 해시값을 Base64로 인코딩한 문자열을 <script> 요소와 <link> 요소의 integrity 속성으로 지정한다.
    
    ```html
    <script src="https://cdn.example/some-library.js"
    integrity="sha256-5jFwrAK0UV47oFbVg/iCCBbxD8X1w+QvoOUepu4C2YA="
    crossorigin="anonymous"></script>
    ```
    
    ### CDN에서 불러오는 라이브러리의 버전 지정하기
    
    고정된 버전의 라이브러리를 불러오면 이전 라이브러리를 불러오는 것을 방지할 수 있다.
    또한 5장에서 설명한 CSP를 사용해 의도하지 않은 버전의 라이브러리 불러오기를 방지하는 것도 중요하다.
    

## 다음 시간 :   6/12 수  저녁 7시

- 끝까지 읽어보고 오기.
- **프런트엔드 개발을 위한 보안 입문 전체적으로 정리.**
- 다음시간부터 진행할 주제 정하기.
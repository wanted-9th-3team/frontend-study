# 01/31 ê¸°ìˆ  ìŠ¤í„°ë””

ì‘ì„± ì¼ì‹œ: 2024ë…„ 1ì›” 30ì¼ ì˜¤í›„ 11:28
ìµœì¢… í¸ì§‘ ì¼ì‹œ: 2024ë…„ 1ì›” 31ì¼ ì˜¤í›„ 7:49
ì‘ì„±ì: myung hun kang
ìƒíƒœ: Backlog

## React ë³µìŠµí•˜ê¸°

### ì±•í„° ì£¼ìš” ë‚´ìš©

- ëª…í›ˆ
    
    ### react-router-dom ì˜ loader() ê¸°ëŠ¥
    
    - react-router-domì—ëŠ” ë°ì´í„°ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ë¥¼ íŠ¹ì • routeì— ë“±ë¡í•´ì„œ useLoaderData  í›…ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    
    loaderìš©ìœ¼ë¡œ ì‚¬ìš©í•  ë¹„ë™ê¸° data fetching í•¨ìˆ˜ 
    
    ```jsx
    // Post.jsxì™€ ê°™ì€ íŒŒì¼ì— ì‘ì—…
    
    export async function loader() {
      const response = await fetch('http://localhost:8080/posts');
      const resData = await response.json();
      return resData.posts;
    }
    ```
    
    router ë°°ì—´ì— ë“±ë¡ 
    
    ```jsx
    import Posts, { loader as postsLoader } from './routes/Posts';
    
    const router = createBrowserRouter([
      {
        path: '/',
        element: <RootLayout />,
        children: [
          {
            path: '/',
            element: <Posts />,
            loader: postsLoader,
            children: [{ path: '/create-post', element: <NewPost /> }],
          },
        ],
      },
    ]);
    ```
    
    ì‹¤ pageì—ì„œ useLoaderData í›…ì„ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„
    
    ```jsx
    import { useLoaderData } from 'react-router-dom';
    
    import Post from './Post';
    import classes from './PostsList.module.css';
    
    function PostsList() {
      const posts = useLoaderData();
    ```
    
    <aside>
    ğŸ’¡ ë¼ìš°í„°ì— loaderë¥¼ ë“±ë¡í•˜ë©´ ë“±ë¡ëœ loaderê°€ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ë©´ í™”ë©´ì´ ë Œë”ë§ë˜ë¯€ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê³¼ì •ì´ ëŠë¦¬ë©´ í™”ë©´ì´ ëŠë¦¬ê²Œ ë Œë”ë§ë˜ UXë¥¼ ì•ˆì¢‹ê²Œ í•  ìˆ˜ ìˆë‹¤. 
     â†’ ì´ ë¶€ë¶„ì€ routerì˜ ë‹¤ë¥¸ ê¸°ëŠ¥ìœ¼ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.
    
    </aside>
    
    ### react-router-dom ì˜ action() ê¸°ëŠ¥
    
    - react-router-dom ì˜ Form ìš”ì†Œë¥¼ ì‚¬ìš©í•˜ë©´ <form>ì— submit handlerë¥¼ ë‹¬ì•„ì„œ form ì œì¶œì— ëŒ€í•œ ì¦‰ ë¹„ë™ê¸° postì™€ ê°™ì€ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ì•Œì•„ì„œ dataë¥¼ ìˆ˜ì§‘í•˜ê³  form ì˜ ê¸°ë³¸ ë™ì‘ì„ ë§‰ê³  ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆê²Œ í•  ìˆ˜ ìˆë‹¤.
    
    action í•¨ìˆ˜ì™€ ì—°ê²°ëœ NewPost.jsx 
    
    ```jsx
    import { Link, Form, redirect } from 'react-router-dom';
    import classes from './NewPost.module.css';
    import Modal from '../components/Modal';
    
    function NewPost() {
      return (
        <Modal>
    	//react-router-domì˜ Form ìš”ì†Œë¥¼ ê°€ì ¸ì™€ ì‚¬ìš©í•œë‹¤. 
    	// methodë¥¼ postë¼ê³  í–ˆì§€ë§Œ ì‹¤ì œ postë¡œ ê°€ì§€ëŠ” ì•ŠëŠ”ë‹¤. 
    	// ë‹¤ë§Œ ë“±ë¡ëœ action í•¨ìˆ˜ì—ì„œ formì— ë“±ë¡ëœ dataë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œëœë‹¤. 
          <Form method='post' className={classes.form}>
            <p>
              <label htmlFor="body">Text</label>
              <textarea id="body" name="body" required rows={3} />
            </p>
            <p>
              <label htmlFor="name">Your name</label>
              <input type="text" id="name" name="author" required />
            </p>
            <p className={classes.actions}>
              <Link to=".." type="button">
                Cancel
              </Link>
              <button>Submit</button>
            </p>
          </Form>
        </Modal>
      );
    }
    
    export default NewPost;
    ```
    
    action í•¨ìˆ˜ 
    
    - formì— ìˆëŠ” input ë“±ì˜ íƒœê·¸ì— nameìš”ì†Œë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ dataë¥¼ nameìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
    
    ```jsx
    // ìœ„ NewPost.jsx ì™€ ê°™ì€ íŒŒì¼ 
    import { Link, Form, redirect } from 'react-router-dom';
    
    export async function action({request}) {
      const formData = await request.formData();
      const postData = Object.fromEntries(formData); // { body: '...', author: '...' }
      await fetch('http://localhost:8080/posts', {
        method: 'POST',
        body: JSON.stringify(postData),
        headers: {
          'Content-Type': 'application/json',
        },
      });
    
      return redirect('/');
    }
    ```
    
    routerì— ë“±ë¡ëœ ëª¨ìŠµ
    
    childrenì— path, elementì™€ ê°™ì´ actionë„ ë„£ì–´ì„œ ì“¸ ìˆ˜ ìˆë‹¤.  
    
    ```jsx
    import NewPost, { action as newPostAction } from './routes/NewPost';
    
    const router = createBrowserRouter([
      {
        path: '/',
        element: <RootLayout />,
        children: [
          {
            path: '/',
            element: <Posts />,
            loader: postsLoader,
            children: [
              { path: '/create-post', element: <NewPost />, action: newPostAction },
            ],
          },
        ],
      },
    ]);
    ```
    

- ì¬ìš±
    - í”„ë¡œì íŠ¸ ìƒì„± ë„êµ¬ì—ì„œ í”„ë¡œì íŠ¸ ìì²´ì™€ ë¹ŒíŠ¸ì¸ ë„êµ¬ë“¤ì´ ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸.
    - submit ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚˜ë©´ http ì „ì†¡ ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚¨. ì´ë¥¼ ë§‰ê¸°ìœ„í•´ event.preventDefaltë¥¼ ì‚¬ìš©.
    - ë¼ìš°í„° ì‚¬ìš©ë²•. ê·¸ë™ì•ˆ ì˜ëª» ì‚¬ìš©í•˜ê³  ìˆì—ˆìŒ. ëª¨ë‹¬ë„ ë¼ìš°í„° í™œìš©í•´ì„œ êµ¬í˜„. ì¹ ë“œëŸ° ì†ì„± ì‚¬ìš©í•˜ì—¬ ë ˆì´ì•„ì›ƒ ë¼ìš°íŠ¸ ì‚¬ìš© ê°€ëŠ¥.
    - ìƒˆë¡œê³ ì¹¨ ì•ˆë˜ê²Œ Link ì“°ê¸°.
    - loader() ì‚¬ìš©ë°©ë²•. (ë¼ìš°íŒ… ê³¼ì •ì—ì„œ ë°ì´í„° ì£¼ê³ ë°›ì„ë•Œ ì‚¬ìš©.)
    - 44ê°• -> RRD ì—ì„œ Form ìœ¼ë¡œ ë°ì´í„° ë°›ê³  action ìœ¼ë¡œ ë„˜ê²¨ì£¼ëŠ” ë°©ë²•.
    

- ì§„ì˜

**react-router-domì˜ ê¸°ëŠ¥ì´ ì œì¼ ì¤‘ìš”**

## NextJS í•µì‹¬(ì•± ë¼ìš°í„° )

### ~ 96 ì—°ìŠµë¬¸ì œ: í•´ë‹µ/ ê¹Œì§€ ì£¼ìš” ë‚´ìš©

**app router vs  page router**
[https://nextjs.org/docs/app/building-your-application/routing/colocation](https://nextjs.org/docs/app/building-your-application/routing/colocation) 
****

íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…

- ëª…í›ˆ
    
    ### a íƒœê·¸ì™€ Link íƒœê·¸
    
    Nextjs ëŠ” spa ì˜ ì¥ì ì„ ê°€ì§€ê³  ê°€ë©´ì„œ í˜ì´ì§€ ì´ë™ì„ í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•œë‹¤. 
    
    ê·¸ëŸ°ë° a íƒœê·¸ë¥¼ ì‚¬ìš©í•´ì„œ í˜ì´ì§€ë¥¼ ì´ë™í•˜ëŠ” ê²ƒì€ í˜ì´ì§€ ë‚´ìš©ì„ ì„œë²„ë¡œë¶€í„° ìƒˆë¡œ ë°›ì•„ì˜¤ëŠ” ê²ƒì´ ë˜ë¯€ë¡œ ìœ„ ì¥ì ì„ ì‚´ë¦¬ì§€ ëª»í•œ ë°©ë²•ì´ë‹¤. 
    
    ë”°ë¼ì„œ Link íƒœê·¸ë¥¼ ì‚¬ìš©í•´ì„œ í˜ì´ì§€ ì´ë™ì„ ì²˜ë¦¬í•´ì•¼í•œë‹¤. 
    

- ì¬ìš±
    - next ì¥ì  : SSRì´ ë˜ë©´ì„œ SPAì˜ ì¥ì ì€ ê·¸ëŒ€ë¡œ ì‚¬ìš©. ì¦‰ SSRê³¼ CSR ì˜ ì¥ì ì„ ë‹¤ ì‚¬ìš© ê°€ëŠ¥.
    - page ì™€ layout ëŠ” ê³ ì • ëª…ì¹­. ë‹¨ app/ í´ë” ë‚´ë¶€ì— ìƒì„±ë ë•Œë§Œ ë³´í˜¸ ê°€ëŠ¥. ê·¸ ì™¸ì—ë„ not-found, error, loading, route ë“± ì¡´ì¬.
    - icon.png ì“°ë©´ íŒŒë¹„ì½˜.
    - @/ ëŠ” ë£¨íŠ¸ í´ë”.
    - í´ë” ëª…ì„ [] ë¥¼ ì‚¬ìš©í•´ ë™ì ìœ¼ë¡œ ì‚¬ìš©.
    

- ì§„ì˜
    
    [NextJS í•µì‹¬ (App Router)](https://www.notion.so/NextJS-App-Router-d51313cc465a439ab2c88ad1c168dd86?pvs=21) 
    

## ë‹¤ìŒ ì‹œê°„ ìˆ˜ 7ì‹œ

ì„¹ì…˜ 4 í˜ì´ì§€ & íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ… ê¹Œì§€ ë³´ê³  ì •ë¦¬í•´ì˜¤ê¸° 

ì›”ìš”ì¼ì— ë‹¤ì‹œ í”¼ë“œë°± ë‚¨ê¸°ê¸°